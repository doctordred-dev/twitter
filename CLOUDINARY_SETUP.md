# ‚òÅÔ∏è Cloudinary - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

## ‚úÖ –ú—ñ–≥—Ä–∞—Ü—ñ—è –∑ Uploadcare –Ω–∞ Cloudinary –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

### –©–æ –∑–º—ñ–Ω–∏–ª–æ—Å—å:
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–∞–∫–µ—Ç `cloudinary`
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `src/services/cloudinary.service.ts`
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `src/routes/posts.routes.ts`
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `src/routes/users.routes.ts`
- ‚úÖ –î–æ–¥–∞–Ω–æ –∑–º—ñ–Ω–Ω—ñ –≤ `.env.example`

---

## üöÄ –®–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏ –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å Cloudinary

1. –ó–∞–π–¥–∏ –Ω–∞ https://cloudinary.com/users/register_free
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Å—è (email + –ø–∞—Ä–æ–ª—å)
3. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏ email

### –ö—Ä–æ–∫ 2: –û—Ç—Ä–∏–º–∞–π credentials

1. –ó–∞–π–¥–∏ –≤ Dashboard: https://console.cloudinary.com/
2. –°–∫–æ–ø—ñ—é–π –∑ —Ä–æ–∑–¥—ñ–ª—É **"Account Details"**:
   - **Cloud Name** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `dxyz123abc`)
   - **API Key** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `123456789012345`)
   - **API Secret** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `abcdefghijklmnopqrstuvwxyz`)

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–π –≤ `.env`

–°—Ç–≤–æ—Ä–∏ –∞–±–æ –≤—ñ–¥–∫—Ä–∏–π —Ñ–∞–π–ª `.env` —ñ –¥–æ–¥–∞–π:

```env
# Cloudinary
CLOUDINARY_CLOUD_NAME=—Ç–≤—ñ–π_cloud_name
CLOUDINARY_API_KEY=—Ç–≤—ñ–π_api_key
CLOUDINARY_API_SECRET=—Ç–≤—ñ–π_api_secret
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```env
CLOUDINARY_CLOUD_NAME=dxyz123abc
CLOUDINARY_API_KEY=123456789012345
CLOUDINARY_API_SECRET=abcdefghijklmnopqrstuvwxyz
```

### –ö—Ä–æ–∫ 4: –ó–∞–∫–æ–º–µ–Ω—Ç—É–π Uploadcare –∫–ª—é—á—ñ

–í `.env` –∑–∞–∫–æ–º–µ–Ω—Ç—É–π –∞–±–æ –≤–∏–¥–∞–ª–∏ —Å—Ç–∞—Ä—ñ –∫–ª—é—á—ñ:

```env
# Uploadcare (deprecated)
# UPLOADCARE_PUBLIC_KEY=...
# UPLOADCARE_SECRET_KEY=...
```

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –º–∞—î –±—É—Ç–∏:
```
‚úÖ Cloudinary configured: dxyz123abc
```

### –ö—Ä–æ–∫ 6: –°—Ç–≤–æ—Ä–∏ –ø–æ—Å—Ç –∑ —Ñ–æ—Ç–æ

–ß–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—Ç–≤–æ—Ä–∏ –ø–æ—Å—Ç –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º.

### –ö—Ä–æ–∫ 7: –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏

–ú–∞—î –±—É—Ç–∏:
```
üîÑ Starting file upload to Cloudinary...
üìÅ Filename: image.jpg
‚òÅÔ∏è Cloud Name: dxyz123abc
üì¶ File size: 245678 bytes
‚úÖ File uploaded successfully!
üÜî Public ID: twitter/1234567890-image
üîó URL: https://res.cloudinary.com/dxyz123abc/image/upload/v1234567890/twitter/1234567890-image.jpg
```

### –ö—Ä–æ–∫ 8: –ü–µ—Ä–µ–≤—ñ—Ä URL

–°–∫–æ–ø—ñ—é–π URL –∑ –ª–æ–≥—ñ–≤ —Ç–∞ –≤—ñ–¥–∫—Ä–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä—ñ - –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–∞—î –≤—ñ–¥–∫—Ä–∏—Ç–∏—Å—å! üéâ

---

## üìä Cloudinary Free Plan

**–©–æ –≤—Ö–æ–¥–∏—Ç—å:**
- ‚úÖ 25 GB storage
- ‚úÖ 25 GB bandwidth/–º—ñ—Å—è—Ü—å
- ‚úÖ 25,000 —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ–π/–º—ñ—Å—è—Ü—å
- ‚úÖ –ü—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
- ‚úÖ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó –Ω–∞ –ª—å–æ—Ç—É
- ‚úÖ CDN –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –Ω–∞–∑–∞–≤–∂–¥–∏

---

## üé® –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å

Cloudinary –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º—ñ–∑—É—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –∞–ª–µ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó:

### –ü—Ä–∏–∫–ª–∞–¥ URL:
```
https://res.cloudinary.com/dxyz123abc/image/upload/v1234567890/twitter/image.jpg
```

### –ó —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è–º–∏:
```
https://res.cloudinary.com/dxyz123abc/image/upload/w_600,h_600,c_fill,q_auto,f_auto/v1234567890/twitter/image.jpg
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `w_600` - —à–∏—Ä–∏–Ω–∞ 600px
- `h_600` - –≤–∏—Å–æ—Ç–∞ 600px
- `c_fill` - crop fill (–∑–∞–ø–æ–≤–Ω–∏—Ç–∏)
- `q_auto` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —è–∫—ñ—Å—Ç—å
- `f_auto` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç (WebP –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤)

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–¥—ñ:

```typescript
import { getOptimizedUrl } from './services/cloudinary.service.js';

// –û—Ä–∏–≥—ñ–Ω–∞–ª
const originalUrl = post.imageUrl;

// Thumbnail 300x300
const thumbnailUrl = getOptimizedUrl(originalUrl, {
  width: 300,
  height: 300,
  crop: 'fill',
  quality: 'auto',
  format: 'auto'
});

// –î–ª—è –∞–≤–∞—Ç–∞—Ä—ñ–≤
const avatarUrl = getOptimizedUrl(user.avatarUrl, {
  width: 100,
  height: 100,
  crop: 'thumb',
  quality: 'auto',
  format: 'auto'
});
```

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cloudinary Dashboard

### 1. Settings ‚Üí Security

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
- ‚úÖ **Unsigned uploads**: Disabled (–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ signed uploads –∑ –±–µ–∫–µ–Ω–¥—É)
- ‚úÖ **Allowed fetch domains**: –î–æ–¥–∞–π —Å–≤—ñ–π –¥–æ–º–µ–Ω —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

### 2. Settings ‚Üí Upload

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
- ‚úÖ **Auto tagging**: Enabled (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ–≥–∏ –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å)
- ‚úÖ **Auto backup**: Enabled (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –±–µ–∫–∞–ø)

### 3. Media Library

–í—Å—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏ –±—É–¥—É—Ç—å –≤ –ø–∞–ø—Ü—ñ **twitter/** –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ.

---

## üÜö –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: Uploadcare vs Cloudinary

| –§—É–Ω–∫—Ü—ñ—è | Uploadcare | Cloudinary |
|---------|-----------|------------|
| Free storage | 3 GB | 25 GB ‚úÖ |
| Free bandwidth | 10 GB | 25 GB ‚úÖ |
| –ü—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø | –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ | –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º ‚úÖ |
| –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó | –û–±–º–µ–∂–µ–Ω—ñ | 25,000/–º—ñ—Å ‚úÖ |
| –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è | –°–∫–ª–∞–¥–Ω–∞ | –ü—Ä–æ—Å—Ç–∞ ‚úÖ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è | –°–µ—Ä–µ–¥–Ω—è | –í—ñ–¥–º—ñ–Ω–Ω–∞ ‚úÖ |

---

## üêõ Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "Cloudinary is not configured"

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª—é—á—ñ –Ω–µ –∑–∞–¥–∞–Ω—ñ –≤ `.env`

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É
2. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –∫–ª—é—á—ñ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ (–±–µ–∑ –ª–∞–ø–æ–∫, –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä

### –ü–æ–º–∏–ª–∫–∞: "Upload failed"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ credentials –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –º–µ—Ä–µ–∂–µ—é

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä –∫–ª—é—á—ñ –≤ Cloudinary Dashboard
2. –ü–µ—Ä–µ–≤—ñ—Ä —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è
3. –ü–æ–¥–∏–≤–∏—Å—å –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ

### –§–∞–π–ª–∏ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL –∞–±–æ —Ñ–∞–π–ª –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏ - —á–∏ —î "File uploaded successfully"
2. –ü–µ—Ä–µ–≤—ñ—Ä URL –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä Cloudinary Dashboard ‚Üí Media Library

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **Cloudinary Docs**: https://cloudinary.com/documentation
- **Node.js SDK**: https://cloudinary.com/documentation/node_integration
- **Image Transformations**: https://cloudinary.com/documentation/image_transformations

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

- [ ] –°—Ç–≤–æ—Ä–∏–≤ –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å Cloudinary
- [ ] –°–∫–æ–ø—ñ—é–≤–∞–≤ Cloud Name, API Key, API Secret
- [ ] –î–æ–¥–∞–≤ –∫–ª—é—á—ñ –≤ `.env`
- [ ] –ó–∞–∫–æ–º–µ–Ω—Ç—É–≤–∞–≤ Uploadcare –∫–ª—é—á—ñ
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤ —Å–µ—Ä–≤–µ—Ä
- [ ] –ü–æ–±–∞—á–∏–≤ "Cloudinary configured" –≤ –ª–æ–≥–∞—Ö
- [ ] –°—Ç–≤–æ—Ä–∏–≤ –ø–æ—Å—Ç –∑ —Ñ–æ—Ç–æ
- [ ] –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

---

**–ì–æ—Ç–æ–≤–æ! Cloudinary –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ —ñ –ø—Ä–∞—Ü—é—î!** üéâ
